<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
  <title>Trick or Click</title>

  <!-- Stylesheet -->
  <link rel="stylesheet" href="../Trick or Click/main.css" />

  <!-- Google Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link
    href="https://fonts.googleapis.com/css2?family=Creepster&family=Josefin+Sans:ital,wght@0,100..700;1,100..700&display=swap"
    rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Nosifer&display=swap" rel="stylesheet">

  <style>
    body {
      margin: 0;
      font-family: "Josefin Sans", sans-serif;
      color: #fff;
      text-align: center;
      overflow-x: hidden;

      /* ðŸ”¥ Background setup */
      background:
        url("../Trick or Click/Background.png") no-repeat center center fixed;
      background-size: cover;
    }

    h1.title {
      font-family: "Creepster", cursive;
      font-size: 3.5rem;
      color: #ff3300;
      margin-top: 2rem;
      text-shadow: 0 0 15px #ff3300;
      animation: flickerTitle 3s infinite;
    }

    @keyframes flickerTitle {
      0%, 19%, 21%, 23%, 25%, 54%, 56%, 100% {
        opacity: 1;
      }
      20%, 24%, 55% {
        opacity: 0.6;
      }
    }

    h2 {
      font-size: 1.8rem;
      color: #e6e6e6;
      margin: 1.5rem 0;
    }

    .creepy_container {
      position: relative;
      display: inline-block;
      margin: 2rem auto;
      padding: 2rem;
      border: 2px solid #ff3300;
      border-radius: 12px;
      background: rgba(255, 51, 0, 0.08);
      box-shadow: 0 0 25px rgba(255, 51, 0, 0.4);
      animation: floatContainer 6s ease-in-out infinite;
    }

    @keyframes floatContainer {
      0%, 100% {
        transform: translateY(0);
      }
      50% {
        transform: translateY(-10px);
      }
    }

    .creepy {
      font-size: 1.8rem;
      line-height: 3rem;
      color: #ff3300; /* ðŸ”¥ main text color */
      font-family: "Nosifer", cursive;
      position: relative;
      text-shadow: 0 0 8px #ff3300, 0 0 20px #ff0000; /* glow effect */
      animation: creepyFlicker 4s infinite alternate ease-in-out;
    }

    @keyframes creepyFlicker {
      0% {
        opacity: 0.9;
        text-shadow: 0 0 8px #ff3300, 0 0 20px #ff0000;
      }
      50% {
        opacity: 1;
        text-shadow: 0 0 12px #ff6600, 0 0 30px #ff3300;
      }
      100% {
        opacity: 0.8;
        text-shadow: 0 0 5px #990000, 0 0 10px #660000;
      }
    }

    #url_button {
      margin-top: 2rem;
    }

    #voteButton {
      font-family: "Creepster", cursive;
      background: #ff3300;
      border: none;
      padding: 0.8rem 2rem;
      border-radius: 8px;
      color: #fff;
      font-size: 1.3rem;
      cursor: pointer;
      box-shadow: 0 0 15px #ff3300;
      transition: transform 0.3s, background 0.3s;
    }

    #voteButton:hover {
      background: #ff6600;
      transform: scale(1.1);
      box-shadow: 0 0 25px #ff6600;
    }

    /* === Dark overlay + mouse-follow ellipse spotlight === */

    /* -- Variables you can tweak: --spot-w, --spot-h, --overlay-opacity */
    :root {
      --spot-w: 300px; /* ellipse width */
      --spot-h: 300px; /* ellipse height */
      --overlay-opacity: 0.78; /* darkness of overlay */
    }

    /* full-screen overlay that creates a darkened page except for an ellipse (spotlight)
       The spotlight position is controlled by CSS variables --mouse-x and --mouse-y (in px) */
    #darkOverlay {
      position: fixed;
      inset: 0;
      z-index: 9999; /* sits above page but pointer-events:none so clicks pass through */
      pointer-events: none;
      /* radial-gradient creates a transparent center (the hole) and darker edges */
      background: radial-gradient(ellipse var(--spot-w) var(--spot-h) at var(--mouse-x, 50%) var(--mouse-y, 50%),
        rgba(0,0,0,0.0) 0%,
        rgba(0,0,0,0.0) 35%,
        rgba(0,0,0,var(--overlay-opacity)) 60%,
        rgba(0,0,0,var(--overlay-opacity)) 100%);
      transition: background 0.02s linear;
      mix-blend-mode: normal;
      will-change: background-position, background;
    }

    /* subtle rim glow for the ellipse â€” purely visual, also follows mouse via transform */
    #spotRim {
      position: fixed;
      left: 0;
      top: 0;
      width: var(--spot-w);
      height: var(--spot-h);
      border-radius: 50%;
      transform: translate(calc(var(--mouse-x, 50%) - (var(--spot-w) / 2)), calc(var(--mouse-y, 50%) - (var(--spot-h) / 2)));
      pointer-events: none;
      z-index: 10000; /* above the dark overlay so rim is visible */
      filter: blur(10px);
      opacity: 0.5;
      background: radial-gradient(ellipse at center,
        rgba(255, 80, 0, 0.18) 0%,
        rgba(255, 80, 0, 0.06) 35%,
        rgba(0,0,0,0) 80%);
      transition: transform 0.04s linear;
      will-change: transform;
      mix-blend-mode: screen;
    }

    /* small media tweaks */
    @media (max-width: 600px) {
      :root {
        --spot-w: 200px;
        --spot-h: 120px;
      }
    }
  </style>
</head>

<body>
  <div id="page-wrapper">
    <!-- Header -->
    <header>
      <h1 class="title">Trick <em>or</em> Click</h1>
    </header>

    <!-- Banner -->
    <h2>Welcome To Click or Trick</h2>

    <div class="creepy_container">
      <div class="creepy">
        Will you click or be tricked, my dear?<br>
        Cast your vote, but choose with fear.<br>
        Thumbs up or down, your fate you weaveâ€”<br>
        Be honest nowâ€¦ if you believe.
      </div>
    </div>

    <div id="url_button">
      <form action="../Trick or Click/voting.html">
        <button id="voteButton">Get Voting</button>
      </form>
    </div>
  </div>

  <!-- Dark overlay + rim (spotlight) elements -->
  <div id="darkOverlay" aria-hidden="true"></div>
  <div id="spotRim" aria-hidden="true"></div>

  <script>
    (function () {
      const overlay = document.getElementById('darkOverlay');
      const rim = document.getElementById('spotRim');

      // set initial center position
      function setInitialPosition() {
        const cx = Math.round(window.innerWidth / 2);
        const cy = Math.round(window.innerHeight / 2);
        overlay.style.setProperty('--mouse-x', cx + 'px');
        overlay.style.setProperty('--mouse-y', cy + 'px');
        rim.style.setProperty('--mouse-x', cx + 'px');
        rim.style.setProperty('--mouse-y', cy + 'px');
      }
      setInitialPosition();

      // update position on mousemove
      function handleMove(x, y) {
        overlay.style.setProperty('--mouse-x', x + 'px');
        overlay.style.setProperty('--mouse-y', y + 'px');
        rim.style.setProperty('--mouse-x', x + 'px');
        rim.style.setProperty('--mouse-y', y + 'px');

        /* Also directly change transform for the rim to get smoother motion on some browsers */
        const spotW = parseFloat(getComputedStyle(document.documentElement).getPropertyValue('--spot-w')) || 280;
        const spotH = parseFloat(getComputedStyle(document.documentElement).getPropertyValue('--spot-h')) || 160;
        // translate to place the center of the rim at the mouse point
        rim.style.transform = `translate(${x - (spotW / 2)}px, ${y - (spotH / 2)}px)`;
      }

      window.addEventListener('mousemove', (e) => {
        handleMove(e.clientX, e.clientY);
      }, { passive: true });

      // support touch
      window.addEventListener('touchmove', (e) => {
        const t = e.touches[0];
        if (t) {
          handleMove(t.clientX, t.clientY);
        }
      }, { passive: true });

      // update center if window resizes
      window.addEventListener('resize', () => {
        setInitialPosition();
      });
    })();
  </script>
</body>

</html>
